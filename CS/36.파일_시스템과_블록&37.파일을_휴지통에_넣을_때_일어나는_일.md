# 파일 시스템과 블록
# &
# 파일을 휴지통에 넣을 때 일어나는 일
## 항해99 부트캠프 ing


### 보조 기억 장치 파일 시스템


* 폴더 엔트리 (디렉토리 엔트리)

  파일의 이름, 위치, 크기, 생성 및 수정 날짜, 권한, 유형 등의 정보를 담고 있는 자료
  
  해당 파일의 위치를 나타내는 방법은 블록 번호 목록을 담고 있거나 그 목록을 담은 블록을 참조하거나 블록의 순서를 계산하여 나타내기도 한다.
  
  특히, 블록 번호 목록을 담은 블록을 참조하는 방법으로 위치를 나타내면 각 블록끼리 인접해있지 않아도 된다는 특징이 있다.


* 웨어 레벨링 (wear leveling)

  SSD 장치의 데이터 처리 방식

  하드 드라이브와는 다르게 파일이 각 블록 사용 횟수를 제한해 놓고 사용 횟수를 파악해 데이터를 차곡차곡 쌓도록 옮기는 방식

  이로써 장치의 크기를 줄이고 훨씬 안정적이며 전력 소모를 줄일 수 있다.


* 파일 위치를 검색하는 방법

  최상위 폴더부터 차례대로 폴더를 찾아 들어가는 방식
  
  예를 들어,

  C:\Users\book\file.txt

  는 최상위 C드라이브에서 Users폴더를 찾고 그 다음 book폴더를 찾아 들어가 file.txt를 찾는다.

  이는 경로명이 유일무이하다는 조건을 아주 잘 충족한다.

  작업속도를 높이기 위해 동일한 폴더 내에 파일을 찾는다면, *기호를 사용해 중복 경로를 생략하기도 한다.



### 파일 제거하기


* 파일을 휴지통에 넣으면?

  그 파일의 폴더 엔트리와 현재 이름이 휴지통이라는 폴더에 복사되고 원래 폴더 엔트리는 지워진다.

  즉, 파일의 위치를 휴지통이라는 폴더 내부로 바꾼것에 불과하다.


* 휴지통 비우기

  휴지통에 있는 폴더 엔트리가 지워지고 블록은 미사용 목록에 추가된다.

  단, 그 목록 내부의 내용은 삭제되지 않는다. 원래 파일에 할당된 각 블록의 모든 바이트는 아직 그대로다.

  그 이유는 "파일 복구"를 위해서 이다.

  이는 정보를 지웠다고 생각해도 누군가가 다시 복구해내 정보를 훔쳐갈 수 있다는 점을 시사한다.

  디지털 내부에서 정보를 저장하는 일은 매우 신중해야 한다는 걸 알수있다.



* 다른 파일 시스템
  
  과거에는 외부 저장 매체에서 컴퓨터로 가져오려면 제조사에서 제공하는 소프트웨어(드라이버)를 설치해 실행해야 했다.

  이후엔 SD 메모리 카드가 보급되고 이런 번거로운 일은 사라졌다.

  사실상의 표준인 마이크로소프트 FAT(File Alocation Table) 파일 시스템을 통해 표준화하여 파일 시스템을 친숙하고 균일한 인터페이스를 통해 추상화가 가능해졌다.

  네트워크 파일 시스템은 플래시 메모리 기반 장치와 마찬가지로 소프트웨어가 차이점은 숨기고 균일한 인터페이스를 제공함으로써 로컬 컴퓨터의 파일 구조와 유사하게 보이게 한다.

  어떤 디스크 시스템은 RAID(Redundant Array of Independent Disks, 복수 배열 독립 디스크) 기법을 활용한다.

  이는 디스크 중 하나가 고장나도 정보를 복원할수있게 하는 오류 수정 알고리즘을 이용하여 여러 디스크에 데이터를 기록한다.